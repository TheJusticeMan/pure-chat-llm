{
	"readme": "# Pure Chat LLM\n\n**Pure Chat LLM** leverages Obsidian notes to provide a graphical user interface (GUI) for ChatGPT directly within your vault. This plugin transforms your notes into interactive chat windows, enabling seamless conversations, brainstorming, questions, and prompt generation — all without leaving Obsidian.\n\n---\n\n## Features\n\n- **Interactive chat interface:** Engage in seamless conversations with ChatGPT and other leading AI models directly from any Obsidian note. Edit your questions or responses and continue the chat without leaving your vault.\n- **Multiple AI providers:** Choose from a wide range of supported model providers, including OpenAI, Gemini, xAI, Anthropic, Cohere, Mistral AI, and DeepSeek. Easily switch between providers and models to suit your needs.\n- **Note linking for context:** Use `[[Note name]]` or Markdown links to include the content of other notes in your chat, providing additional context or structuring complex prompts. (Referenced notes must start at the beginning of a line.)\n- **Per-note customization:** Configure API parameters (such as `model`, `max_completion_tokens`, and more) on a per-note basis using a JSON block at the top of your note.\n- **Flexible system prompts:** Modify system prompts within your notes to influence the AI’s behavior for each conversation.\n- **Chat-linked notes:** Link specific notes to individual chat sessions for organized, context-rich discussions.\n- **Markdown rendering:** All chat responses support full Markdown formatting, including lists, code blocks, and more.\n- **Simple setup:** Just add your API key for your chosen provider in the plugin settings to get started.\n\n> [!IMPORTANT] > **Note:** This plugin is _not_ an AI note editor. It is designed solely for chatting with AI models through notes. It does not edit or manage your notes beyond the chat interface—it simply turns notes into GUI elements for AI chat.\n\n---\n\n## How to Use\n\n1. Create a new note in Obsidian.\n2. Write your question, prompt, or message.\n3. To initiate chat, press **Shift + Enter** or use the **Complete chat response** command.\n4. Your note will transform into a chat interface, allowing you to continue the conversation.\n5. To customize API parameters, add a JSON block at the top of your note, specifying options like:\n   - `model` (e.g., `\"gpt-4.1-nano\"`)\n   - `max_completion_tokens`\n   - `stream`\n   - Other API options (see [OpenAI API documentation](https://platform.openai.com/docs/api-reference/create))\n6. To include content from other notes, use `[[Note name]]` within your note. This will insert the entire content of that note at the position, which can be used as part of your message or role, helping you structure complex prompts or context.\n\n---\n\n## Example Chat\n\n> [!NOTE]\n> To include the content from another note, use the following JSON configuration:\n>\n> ```json\n> {\n>   \"model\": \"gpt-4.1-nano\",\n>   \"max_completion_tokens\": 4096,\n>   \"stream\": true\n> }\n> ```\n>\n> Then, start your message with:\n>\n> ```markdown\n> # role: system\n>\n> You are a helpful assistant.\n>\n> # role: user\n>\n> [[Introduction]]\n>\n> # role: assistant\n>\n> Hello! How can I assist you today?\n> ```\n>\n> _(In this example, the content of the note named \"Introduction\" will be included in the message.)_\n>\n> **Note:** The note you reference must start at the beginning of a line in your markdown for this feature to work correctly.\n\n---\n\n## Installation\n\n1. Open **Settings** -> **Community Plugins**\n2. Turn off **Safe Mode**\n3. Click **Browse** and search for **Pure Chat LLM**\n4. Click **Install** and then **Enable**\n5. (Optional) Configure plugin settings as desired\n\n---\n\n## Setting Your API key\n\nBefore using the **Pure Chat LLM** plugin, you must enter your OpenAI API key:\n\n- Navigate to **Settings** -> **Community Plugins** -> **Pure Chat LLM**\n- Find the **API key** field\n- Enter your OpenAI API key (you can generate one from the [OpenAI API keys page](https://platform.openai.com/account/api-keys))\n- Save your settings\n\n_Note:_ The API key must be set before initiating chats. If you use the **Complete chat response** command without a configured API key, the plugin will prompt you to enter it.\n\n---\n\n## Usage Reminder\n\n- When you first try to run **Complete chat response** or start a new chat, if the API key isn't configured, you'll be prompted to enter it.\n- After entering your API key, it will be saved for future sessions. You won't need to re-enter it unless you change it.\n\n---\n\n## Voice Call Feature\n\nThe plugin now supports real-time voice calls using WebRTC with the OpenAI Realtime API. This allows users to have voice conversations with AI models directly from Obsidian, with optional tool access for enhanced capabilities.\n\n### How to Use Voice Calls\n\n1. **Open Voice Call Panel:**\n   - Click the phone icon in the ribbon bar, or\n   - Use the command palette (Ctrl/Cmd + P) and select \"Open voice call panel\"\n\n2. **Start a Call:**\n   - Click the \"Start call\" button in the voice call panel\n   - Grant microphone permissions when prompted\n   - The connection will be established directly with OpenAI's Realtime API\n\n3. **During a Call:**\n   - **Mute/Unmute:** Click the \"Mute\" button to toggle your microphone\n   - **End Call:** Click the \"End call\" button to disconnect\n\n### Tool Integration (Agent Mode)\n\nWhen **Agent Mode** is enabled in plugin settings, voice calls gain access to all available tools:\n\n- **File Operations**: Create, read, update, and delete notes\n- **Search**: Search across your vault with various filters\n- **Templates**: Insert templates into notes\n- **Smart Connections**: Retrieve related content\n- **Workspace Management**: Open and organize files\n- **Image Generation**: Create images during conversations\n- And more...\n\nThe AI can autonomously use these tools during voice conversations to help you manage your vault, find information, and complete tasks—all through natural voice interaction.\n\n**Example interactions with tools:**\n- \"Create a new note about my meeting today\"\n- \"Search my vault for notes mentioning project deadlines\"\n- \"Read my daily template and tell me what's on my schedule\"\n- \"Find all notes related to this topic using smart connections\"\n\n### Requirements\n\n- **API Key:** A valid OpenAI API key configured in plugin settings\n- **Realtime API Access:** Your OpenAI account must have access to the Realtime API\n- **Microphone permissions:** Your browser/Obsidian must have access to your microphone\n- **WebRTC support:** Modern browsers and Obsidian desktop app support WebRTC\n\n### Technical Details\n\nThe voice call feature uses:\n- **OpenAI Realtime API** via WebRTC for direct audio streaming\n- **Provider Pattern** for extensibility (supports multiple providers)\n- **PureChatLLMChat Integration** for tool access when agent mode is enabled\n- **Session Description Protocol (SDP)** exchange for connection setup\n- **Data channel** (`oai-events`) for sending/receiving API events and tool calls\n- **Echo cancellation, noise suppression, and auto-gain control** for better audio quality\n\nThe implementation follows OpenAI's unified interface pattern:\n1. Creates an RTCPeerConnection with local audio track\n2. Generates SDP offer\n3. POSTs SDP to `https://api.openai.com/v1/realtime/calls` with API key and session config\n4. Includes tool definitions in session config when agent mode is enabled\n5. Receives answer SDP and establishes connection\n6. Audio and events flow through the established WebRTC connection\n7. Tool calls are executed via the PureChatLLMChat tool registry\n8. Tool results are sent back to the AI for continued conversation\n\n### Troubleshooting\n\n- **Microphone not working:** Check your system permissions and browser settings\n- **Connection fails:** Verify your API key is valid and has access to the Realtime API\n- **No audio:** Check that your audio output device is working and not muted\n- **\"Failed to create session\":** Ensure your OpenAI account has access to the Realtime API\n- **Tools not working:** Enable Agent Mode in plugin settings\n- **Tool execution fails:** Check the browser console for error details\n\n---\n\n## Useful Links\n\n- [OpenAI API documentation](https://platform.openai.com/docs)\n- [API authentication](https://platform.openai.com/docs/api-reference/authentication)\n- [Chat API reference](https://platform.openai.com/docs/api-reference/chat)\n- [Responses & parameters](https://platform.openai.com/docs/api-reference/responses/create)\n",
	"splash": "# Pure Chat LLM\n\nType `>go` at the end of the file to start a chat session.\n\nFor workflow, bind these commands to hotkeys:\n\n- **`Complete chat response`** (Shift + Enter)\n  _Generate reply and continue chat._\n\n- **`Generate title`** (Ctrl + Shift + D)\n  _Create a note or chat title._\n\n- **`Edit selection`** (Ctrl + Shift + S)\n  _Edit selected text._\n\n- **`Analyze conversation`**\n  _Summarize or review chats._\n\n- **`Open hotkeys`**\n  _Customize shortcuts._\n\nStart exploring and enjoy seamless AI conversations!\n",
	"version": "1.9.3",
	"selectionTemplates": {
		"Add emojis": "Add relevant emojis to enhance the provided selection. Follow these rules:\n\n1. Insert emojis at natural breaks in the text.\n2. Never place two emojis next to each other.\n3. Keep all original text unchanged.\n4. Choose emojis that match the context and tone.\n\nReturn only the emojified selection.",
		"Change \"Me\" to \"You\" and vice versa to swap perspective": "Rewrite the provided selection by swapping the perspective: change first-person pronouns (e.g., \"I\", \"me\", \"my\", \"mine\", \"we\", \"us\", \"our\", \"ours\") to second-person (e.g., \"you\", \"your\", \"yours\"), and change second-person pronouns to first-person. Ensure all grammatical and contextual adjustments are made to reflect this bidirectional shift accurately. Maintain the original meaning, tone, and style of the text. Return only the rewritten selection.",
		"Clarify & expand instructions": "The provided selection contains instructions that need to be expanded and clarified.\nExpand the instructions inside the `<Selection>` tags so that someone new to the task fully understands what needs to be done.\nUse clear, detailed explanations, examples if necessary, and break down any complex points into simpler parts.\nEnsure the expanded instructions maintain the original meaning and provide a comprehensive understanding.\nReturn only the expanded `<Selection>`.",
		"Clarify & expand role description": "The provided selection contains a brief role description enclosed within `<Selection>` tags.\n\nExpand and clarify this role description by thoroughly explaining:\n\n- The responsibilities associated with this role.\n- The goals or objectives the role aims to achieve.\n- The perspective or attitude someone in this role should adopt.\n\nUse detailed, precise language, and include relevant context or examples where appropriate.\n\nKeep the original intent intact while providing a comprehensive, easy-to-understand explanation.\n\nReturn only the **expanded** role description within the `<Selection>` tags, with no additional text or comments.",
		"Concentrate: Bullets": "Create a bullet-point summary of the provided selection, with each bullet capturing a distinct key point or main idea. Limit to 5-8 bullets for brevity, focusing on essential details while eliminating fluff, repetition, or minor examples. Preserve the original tone and style by phrasing bullets concisely and naturally.\n\nReturn only the bullet-point summary.",
		"Concentrate: Half-Length": "Reduce the provided selection to approximately half its original word count while preserving the main ideas, key points, essential details, original tone, and style. Remove redundant phrases, examples, or elaborations without losing core substance.\n\nReturn only the shortened selection.",
		"Concentrate: Paragraph": "Condense the provided selection into a single, cohesive paragraph while preserving the main ideas and key points. Remove unnecessary details, repetition, or extraneous examples, and ensure logical flow from start to finish. Maintain the original tone and style, using transitional phrasing where needed to connect ideas smoothly.\n\nReturn only the condensed paragraph.",
		"Condense Selected System Prompt": "Condense the provided system prompt within `<Selection>` tags to about half its original length. Preserve the AI's role, core instructions, and output format. Remove redundant phrases and non-essential examples while maintaining the original tone and style.\n\nIf the selection is empty or invalid, return it unchanged.\n\nReturn only the condensed system prompt.",
		"Convert talk into actions": "Take the provided selection, which contains dialogue, instructions, or descriptive text, and convert it into a clear list of actionable steps. Follow these rules:\n\n1. Identify key statements or intents in the text that imply actions.\n2. Rephrase each into specific, executable steps using imperative language (e.g., \"Do this\" or \"Complete that\").\n3. Ensure the actions are practical, concise, and maintain the original meaning, sequence, and context.\n4. Use simple, straightforward wording to make the steps easy to follow.\n\nReturn only the list of converted actions as bullet points.",
		"Correct Grammar & Spelling": "Correct the grammar and spelling errors in the provided selection. Preserve all original formatting, line breaks, special characters, and content—do not add, remove, or alter any text beyond necessary fixes. If the input is empty, invalid, or already correct, return it unchanged. Return only the corrected text.",
		"Expand": "Expand the provided selection to 1.5-2 times its original length, making it more detailed and comprehensive while enhancing its informational value. Your expansion should:\n\n1. **Elaborate on each key point:** Provide further explanation, context, or supporting details for every main idea in the original text.\n2. **Add relevant details and examples:** Incorporate concrete examples, scenarios, or illustrations to clarify concepts and make abstract ideas more relatable.\n3. **Explore related aspects or implications:** Discuss natural extensions, consequences, or connected considerations that stem from the content, without introducing unrelated information.\n4. **Maintain the original tone, style, and structure:** Ensure the expanded text flows naturally, preserving the voice, formatting, line breaks, and intent of the selection.\n5. **Focus on depth and breadth:** Significantly increase thoroughness by building on existing elements, but avoid redundancy or fluff—aim for meaningful additions that enrich understanding.\n\nIf the original is very short, prioritize examples and implications for balance. Return only the expanded selection.",
		"Inject Subtle Wit": "Rewrite the provided selection by incorporating subtle wit—dry, ironic, or cleverly understated humor that enhances the original text without altering its core meaning, tone, or structure. Follow these rules:\n\n1. **Identify opportunities for wit:** Look for straightforward statements, descriptions, or advice where a gentle twist (e.g., ironic observation, playful understatement, or reflective quip) can add depth or amusement.\n2. **Keep it subtle:** Use wit sparingly—aim for 1-3 instances per paragraph. Avoid puns, exaggeration, or anything overt; opt for dry humor that feels insightful rather than comedic.\n3. **Preserve intent and style:** Maintain the original length (within 10% variance), vocabulary level, and seriousness. The wit should feel organic, like a natural extension of the author's voice.\n4. **Contextual fit:** Ensure the humor respects the topic—e.g., lighten heavy advice with self-aware irony, or add a wry note to narratives about everyday absurdities.\n5. **No additions or removals:** Do not introduce new ideas, facts, or content; only rephrase existing elements to infuse wit.\n\nReturn only the wittily enhanced selection.",
		"Polish These Templates": "The provided selection contains templates from your app's library (e.g., selectionTemplates or chatTemplates). Polish them for clarity, consistency, and effectiveness in guiding LLM outputs. Treat this as meta-editing: refine prompts without changing their core purpose, trimming inefficiencies like redundancy or bloat.\n\nFollow this workflow:\n\n1. **Extract and Analyze**: Identify each template (selection or chat type). Note its function and issues like redundancy, inconsistencies, vagueness, or excess verbosity. Consider edge cases such as short/long inputs, non-English text, or ambiguous selections.\n\n2. **Apply Polishing Rules**:\n   - **Clarity and Specificity**: Rephrase ambiguities into precise steps. Use consistent language (e.g., start with \"...the provided selection\" or \"...the provided conversation\" if fitting; define terms like `<Selection>` handling).\n   - **Structure**: Standardize format: role/system context first, then input handling, numbered rules, and end with \"Return only the [output]\" directive. For chatTemplates, explain roles (user/assistant/system) explicitly.\n   - **Reduce Redundancy**: Merge overlaps (e.g., duplicate rules). Trim unhelpful examples or repetitions, shortening by 10-20% without losing essence.\n   - **Effectiveness**: Use best practices like strict output limits to curb hallucinations. For creative tasks, add bounds to avoid excess.\n   - **Meta-Fit**: Ensure compatibility with app workflow—reference `<Selection>` tags; output clean markdown sans commentary.\n\n3. **Multiple Templates**: Polish individually; prefix each with \"## Polished Template: [Original Name]\". Suggest merged version if overlaps.\n\n4. **Preserve Originals**: Retain core goals and rules—refine only for conciseness and reliability.\n\nReturn only polished template(s) in clean markdown, no analysis or tags. If optimal, return original with note: \"[Template Name]: Already optimal—no changes made.\"",
		"Reduce instructions to cover all bases in an organised way": "Review the provided instructions and restructure them to be more comprehensive and organized. Ensure all essential aspects of the task are covered logically and sequentially.\n\nThe restructured instructions should:\n\n1. **Identify and group related steps:** Combine similar actions or steps that naturally belong together.\n2. **Establish a clear flow:** Order the steps in a logical, chronological, or dependency-based sequence.\n3. **Add missing crucial steps:** Identify any gaps or missing information necessary for successful completion and add them.\n4. **Clarify ambiguous steps:** Rephrase any unclear or vague instructions for better understanding.\n5. **Include prerequisite information:** Add any necessary context, tools, or prior knowledge required before starting.\n6. **Suggest best practices or tips:** Incorporate advice for optimal execution or common pitfalls to avoid.\n7. **Use clear headings or numbering:** Organize the instructions with a clear structure for easy navigation.\n\nReturn only the reorganized and enhanced instructions.",
		"Simplify 2.0": "Simplify the provided text by:\n\n1. **Reducing sentence complexity:** Break down long, compound sentences into shorter, simpler ones.\n2. **Replacing jargon and complex vocabulary:** Substitute advanced words with common, everyday alternatives.\n3. **Clarifying abstract concepts:** Explain any difficult ideas using concrete examples or analogies.\n4. **Focusing on the core message:** Remove unnecessary details, elaborations, or nuances that might hinder understanding.\n5. **Maintaining accuracy:** Ensure that the simplified text still conveys the essential meaning of the original.\n\nThe goal is to make the text accessible to a broader audience, ensuring the core message is easily understood without requiring specialized knowledge.\n\nReturn only the simplified text.",
		"Simplify 6th-grade": "Simplify the provided selection to a 6th-grade reading level (ages 11-12).\nUse simple sentences, common words, and clear explanations.\nMaintain the original key concepts.\nReturn only the simplified selection.",
		"Summarize": "Create a bullet-point summary of the provided selection.\nEach bullet point should capture a key point.\nReturn only the bullet-point summary.",
		"Title": "Generate a concise and engaging title for the provided selection based on its main ideas, key points, and overall theme. Follow these rules:\n\n1. Ensure the title is 5-10 words long to keep it brief yet descriptive.\n2. Use title case (capitalize the first letter of major words).\n3. Make it relevant and appealing, reflecting the tone and context of the original text.\n4. Avoid adding new information not present in the selection.\n\nReturn only the generated title.",
		"Translate to english": "Translate the provided selection into English. Ensure the translation is accurate and maintains the original meaning, tone, and context. Return only the translated text.",
		"Upgrade selected system prompt": "You will receive a persona system prompt enclosed within `<Selection>` tags, defining an AI assistant's role and behavior. Your task is to rewrite it into a robust, clear guide using the provided outline, enhancing clarity, completeness, and effectiveness while preserving the original intent, persona, and constraints—making it comprehensive yet concise with actionable guidance. Follow this workflow: Extract the content inside the tags; analyze the original for core elements like role, goals, and tone, plus any gaps, ambiguities, or redundancies; restructure using the outline, expanding for depth where needed but avoiding fluff and integrating original details seamlessly; if the input is empty, invalid, or already optimal, return it unchanged with a note: \"Original prompt is already robust—no upgrades needed.\" The outline for the upgraded system prompt starts with a single, foundational sentence encapsulating the AI's role, identity, primary mission, and optionally a key descriptor of its nature, followed by: **1. Core Identity & Purpose**—concise role/persona name, primary objective/mission, and target audience; **2. Behavioral Guidelines & Tone**—tone of voice, communication style, and key principles/values; **3. Knowledge & Expertise**—domain of expertise, knowledge limitations, and information sources; **4. Interaction Mechanics & Constraints**—response format, handling ambiguity/uncertainty, error handling, contextual awareness, and engagement strategies; **5. Specific Persona Traits & Quirks**—personality traits, optional metaphorical representations, and 1-2 concise examples of good/bad responses. Return only the upgraded system prompt in clean markdown format, with no additional text, analysis, or comments.",
		"Write 5 Ways to Rephrase It": "Provide five distinct ways to rephrase or rewrite the provided selection (e.g., a phrase, sentence, or short paragraph). Each version should:\n\n1. **Vary the style:** Experiment with tone (e.g., formal to casual, direct to descriptive), sentence structure (e.g., active to passive, simple to compound), or formatting (e.g., questions vs. statements) to offer fresh perspectives.\n2. **Shift emphasis:** Highlight different key elements, such as benefits, challenges, emotions, or implications from the original text.\n3. **Suit varied audiences:** Implicitly tailor phrasing for different readers, like experts (more technical), beginners (simpler language), or general users (engaging and relatable).\n4. **Preserve core meaning:** Retain the original intent, facts, and nuance—do not add, remove, or contradict information.\n5. **Stay concise and standalone:** Keep each rephrasing roughly the same length as the original (within 20% variance) and ensure it's a complete, self-contained unit.\n\nNumber the five versions clearly (1-5) for easy reference. If the selection is very short (under 10 words), focus on subtle variations; for longer ones, prioritize flow and coherence.\n\nReturn only the five rephrased versions, numbered, with no introductory or explanatory text.",
		"Write the implicit parts explicit": "The provided selection contains text with implied meanings, assumptions, or unstated information. Your task is to rewrite the selection, making these implicit elements explicit.\n\nFollow these guidelines:\n\n1. **Identify implicit information:** Carefully read the selection and pinpoint any assumptions, underlying beliefs, unstated goals, or context that is suggested but not directly stated.\n2. **Expand and clarify:** Rephrase the text to clearly articulate these implied elements. Use additional words, sentences, or clauses to make the meaning unambiguous.\n3. **Maintain original intent:** Ensure that the core message and overall meaning of the original text are preserved. Do not introduce new information or alter the fundamental message.\n4. **Improve clarity and completeness:** The rewritten text should be easier to understand for someone who might not be familiar with the original context or assumptions.\n5. **Use natural language:** Integrate the new explanations smoothly into the existing text. Avoid making it sound like a list of assumptions unless that is the most effective way to present them.\n\nReturn only the rewritten selection with the implicit parts made explicit."
	},
	"chatTemplates": {
		"Analyzer Pro": "Process the conversation provided in the previous message as a conversation analysis expert, specializing in refining AI interactions through prompt engineering.\n\n**Task Overview:**\n\n1. Extract the conversation from the `<Conversation>` tags.\n2. Analyze roles, patterns, and goals briefly (<100 words).\n3. Perform the core tasks below with concise rationales.  \n   Output in markdown: \"## Analysis\" section, followed by \"## Better System Prompt\" and \"## Condensed User Prompt.\" Limit total output to 300 words; no extra tags or commentary.\n\n**Roles:**\n\n- **user**: Prompts/questions driving interaction (# role: user).\n- **assistant**: AI responses shaped by input and system rules (# role: assistant).\n- **system**: Core instructions (# role: system)—AI's persona, guidelines, and constraints.\n\n**Analysis Guidelines:** Scan for query types, response style, implicit goals/gaps, strengths/weaknesses (e.g., tone consistency), and ethics (e.g., biases).\n\n**Tasks:**\n\n1. **Better System Prompt:** Infer purpose from patterns; rewrite for clarity (<200 words), including role, objectives, tone, format, constraints, and edge handling. Preserve intent; address gaps.  \n   **Output Format:**\n\n   ## Better System Prompt\n\n   [Upgraded prompt]  \n   _Rationale:_ [One sentence on key changes.]\n\n2. **Condensed User Prompt:** Synthesize user messages into one standalone prompt (<80 words) capturing intents, constraints, and ultimate goals.  \n   **Output Format:**\n   ## Condensed User Prompt\n   [Single prompt]  \n   _Rationale:_ [One sentence on synthesis.]\n\nIf the conversation is empty or invalid, return \"## No Valid Conversation\" unchanged.",
		"Conversation titler": "Generate a concise and engaging title for the provided conversation, focusing on its main themes, key interactions between the user and assistant, and overall tone. Follow these rules:\n\n1. Keep the title 6-12 words long to balance brevity and detail.\n2. Use title case (capitalize the first letter of major words).\n3. Ensure the title is relevant, appealing, and based solely on the conversation's content.\n4. Avoid introducing new information not present in the conversation.\n\nReturn only the generated title.",
		"Predict next message": "Predict what the user will say next based on the conversation so far.\n\nUse the following rules:\n\n1. Do not include any system instructions or context.\n2. Focus solely on the user's likely next message.\n3. Keep it concise and relevant to the ongoing conversation.\n\nReturn only the predicted user message.",
		"Refine Last User Message": "Analyze the provided conversation and refine the user's most recent message to make it clearer, more concise, and more effective while preserving the original intent.\n\n**Instructions:**\n\n- **Objective:** Identify the core purpose of the user's last message and rewrite it to enhance usability for the assistant, eliminating redundancy, improving clarity, and strengthening structure.\n- **Key Steps:**\n  1. Review the overall conversation context, including previous exchanges between user and assistant, to understand the user's goals and any implicit needs.\n  2. Pinpoint ambiguities, wordiness, or structural issues in the last user message (e.g., vague phrasing, unnecessary details).\n  3. Rewrite the message to be polite, direct, and aligned with the conversation's flow—use simpler language where possible, ensure logical progression, and maintain the original meaning without additions or alterations.\n  4. Consider edge cases: If the original is already optimal, make minimal tweaks for polish; if context suggests escalation (e.g., frustration), add subtle empathy without changing intent.\n- **Output:** Provide only the refined user message, without additional explanations, analysis, or commentary.",
		"Upgrade system prompt": "Analyze the provided conversation log. Your task is to identify the core purpose and implicit instructions guiding the `assistant`'s behavior. Based on this analysis, rewrite the `system` prompt to be more explicit, comprehensive, and effective in directing the `assistant` to achieve the observed or intended goals.\n\n**Considerations for the new System Prompt:**\n\n- **Clarity:** Ensure the prompt clearly defines the `assistant`'s role, persona, and capabilities.\n- **Completeness:** Incorporate any implicit expectations or constraints observed in the conversation.\n- **Effectiveness:** The new prompt should better equip the `assistant` to handle similar user requests in the future.\n- **Conciseness:** While being comprehensive, avoid unnecessary verbosity.\n\n**Output:** Provide only the upgraded system prompt."
	}
}